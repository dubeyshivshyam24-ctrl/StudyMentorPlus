<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Study Mentor Premium</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg: #0f172a; --card: #1e293b; --primary: #3b82f6; --text: #ffffff; --gray: #94a3b8;
        }
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: var(--bg); color: var(--text);
            margin: 0; padding: 0; padding-bottom: 80px;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- LAYOUT & NAVIGATION --- */
        .screen { display: none; padding: 20px; animation: fadeIn 0.3s; }
        .screen.active { display: block; }
        @keyframes fadeIn { from {opacity: 0;} to {opacity: 1;} }

        .header { padding: 20px; background: linear-gradient(180deg, #1e293b, #0f172a); position: sticky; top: 0; z-index: 100; }
        .header h2 { margin: 0; font-size: 20px; color: var(--primary); }
        .back-btn { border: none; background: none; color: var(--gray); font-size: 16px; margin-right: 10px; cursor: pointer; }

        /* --- CARDS & GRID --- */
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 15px; }
        .card {
            background: var(--card); border: 1px solid #334155; border-radius: 16px;
            padding: 15px; text-align: center; cursor: pointer; transition: 0.2s;
        }
        .card:active { transform: scale(0.95); background: #334155; }
        .card i { font-size: 24px; margin-bottom: 8px; display: block; }
        .card-title { font-size: 13px; font-weight: 600; }

        /* --- STUDY CONTENT --- */
        .chapter-item {
            background: var(--card); padding: 15px; margin-bottom: 10px; border-radius: 12px;
            display: flex; align-items: center; cursor: pointer;
        }
        .chapter-info h4 { margin: 0; font-size: 14px; }
        .chapter-info p { margin: 2px 0 0; font-size: 11px; color: var(--gray); }
        
        .content-box { background: #2d3748; padding: 15px; border-radius: 12px; line-height: 1.6; font-size: 14px; color: #e2e8f0; }

        /* --- QUIZ UI --- */
        .quiz-box { background: var(--card); padding: 20px; border-radius: 16px; text-align: center; }
        .option-btn {
            display: block; width: 100%; padding: 12px; margin-top: 10px;
            background: #334155; border: none; border-radius: 8px; color: white; text-align: left;
        }
        .option-btn.correct { background: #10b981; }
        .option-btn.wrong { background: #ef4444; }

        /* --- BOTTOM NAV --- */
        .bottom-nav {
            position: fixed; bottom: 0; width: 100%; background: var(--card);
            display: flex; justify-content: space-around; padding: 12px 0; border-top: 1px solid #334155;
        }
        .nav-item { color: var(--gray); text-align: center; font-size: 20px; }
        .nav-item.active { color: var(--primary); }
        .nav-item span { display: block; font-size: 10px; }
    </style>
</head>
<body>

    <div id="screen-home" class="screen active">
        <div class="header">
            <h2 id="username">Hello, Student</h2>
            <p style="margin:5px 0 0; font-size:12px; color:#94a3b8;">Your Learning Dashboard</p>
        </div>

        <h3 style="font-size:16px; margin-top:20px;">üìö Start Learning</h3>
        <div class="grid">
            <div class="card" onclick="openScreen('screen-python')">
                <i class="fa-brands fa-python" style="color: #fbbf24;"></i>
                <span class="card-title">Python Course</span>
            </div>
            <div class="card" onclick="openScreen('screen-science')">
                <i class="fa-solid fa-flask" style="color: #34d399;"></i>
                <span class="card-title">Science (10th)</span>
            </div>
            <div class="card" onclick="openScreen('screen-upsc')">
                <i class="fa-solid fa-landmark" style="color: #f472b6;"></i>
                <span class="card-title">UPSC Notes</span>
            </div>
            <div class="card" onclick="openScreen('screen-quiz')">
                <i class="fa-solid fa-brain" style="color: #60a5fa;"></i>
                <span class="card-title">Live Quiz</span>
            </div>
        </div>
    </div>

    <div id="screen-python" class="screen">
        <div class="header">
            <button class="back-btn" onclick="openScreen('screen-home')"><i class="fa-solid fa-arrow-left"></i></button>
            <span style="font-size:18px; font-weight:bold;">Python Mastery</span>
        </div>
        
        <div style="margin-top: 20px;">
            <div class="chapter-item" onclick="showContent('py-intro')">
                <i class="fa-brands fa-python" style="font-size:24px; margin-right:15px; color:#fbbf24;"></i>
                <div class="chapter-info"><h4>Chapter 1: Basics</h4><p>Variables & Data Types</p></div>
            </div>
            
            <div id="py-intro" style="display:none; margin-bottom:15px;" class="content-box">
                <strong>üêç Python Variables</strong><br><br>
                Variables are containers for storing data values.<br>
                <code>x = 5</code><br><code>name = "Rahul"</code><br><br>
                <button class="option-btn" style="background:var(--primary); text-align:center;" onclick="askAI('python_doubt')">ü§ñ Ask AI to Explain More</button>
            </div>

            <div class="chapter-item">
                <i class="fa-solid fa-code" style="font-size:24px; margin-right:15px; color:#fbbf24;"></i>
                <div class="chapter-info"><h4>Chapter 2: Loops</h4><p>For & While Loops (Coming Soon)</p></div>
            </div>
        </div>
    </div>

    <div id="screen-science" class="screen">
        <div class="header">
            <button class="back-btn" onclick="openScreen('screen-home')"><i class="fa-solid fa-arrow-left"></i> Back</button>
            <span style="font-weight:bold;">Class 10 Science</span>
        </div>
        <div style="margin-top:20px;" class="content-box">
            <h4>‚öõÔ∏è Chemical Reactions</h4>
            <p>A chemical reaction involves a change in which one or more substances are converted into new substances.</p>
            <ul>
                <li>Combination Reaction</li>
                <li>Decomposition Reaction</li>
            </ul>
            <button class="option-btn" style="background:var(--primary); text-align:center; margin-top:10px;" onclick="askAI('science_notes')">üìÑ Get Full PDF from Bot</button>
        </div>
    </div>

    <div id="screen-quiz" class="screen">
        <div class="header">
            <button class="back-btn" onclick="openScreen('screen-home')"><i class="fa-solid fa-arrow-left"></i> Quit</button>
            <span style="font-weight:bold;">GK Challenge</span>
        </div>
        <div class="quiz-box" style="margin-top:30px;">
            <h3>Which is the largest planet?</h3>
            <button class="option-btn" onclick="checkAnswer(this, false)">A) Earth</button>
            <button class="option-btn" onclick="checkAnswer(this, true)">B) Jupiter</button>
            <button class="option-btn" onclick="checkAnswer(this, false)">C) Mars</button>
            <button class="option-btn" onclick="checkAnswer(this, false)">D) Venus</button>
            <p id="quiz-result" style="margin-top:15px; font-weight:bold;"></p>
        </div>
    </div>

    <div class="bottom-nav">
        <div class="nav-item active" onclick="openScreen('screen-home')"><i class="fa-solid fa-house"></i><span>Home</span></div>
        <div class="nav-item" onclick="openScreen('screen-python')"><i class="fa-solid fa-book"></i><span>Learn</span></div>
        <div class="nav-item" onclick="askAI('profile')"><i class="fa-solid fa-user"></i><span>Profile</span></div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        if (tg.initDataUnsafe?.user) {
            document.getElementById('username').innerText = "Hi, " + tg.initDataUnsafe.user.first_name;
        }

        // --- NAVIGATION LOGIC (App Band Nahi Hoga) ---
        function openScreen(screenId) {
            // Sab screens chhupao
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            // Jo chahiye wo dikhao
            document.getElementById(screenId).classList.add('active');
        }

        // --- TOGGLE CONTENT ---
        function showContent(id) {
            const el = document.getElementById(id);
            el.style.display = (el.style.display === 'block') ? 'none' : 'block';
        }

        // --- QUIZ LOGIC (App ke andar) ---
        function checkAnswer(btn, isCorrect) {
            if (isCorrect) {
                btn.style.background = "#10b981"; // Green
                document.getElementById('quiz-result').innerText = "‚úÖ Correct! +10 Points";
            } else {
                btn.style.background = "#ef4444"; // Red
                document.getElementById('quiz-result').innerText = "‚ùå Wrong Answer!";
            }
        }

        // --- SEND TO BOT (Sirf tab jab AI chahiye) ---
        function askAI(action) {
            tg.sendData(action);
            // Note: Hum tg.close() nahi kar rahe, taaki user app mein hi rahe 
            // (Lekin Telegram ka rule hai ki data bhejne par wo close ho sakta hai, 
            // isliye hum sirf "Request" bhejenge)
        }
    </script>
</body>
    </html>
